<!DOCTYPE html>
<html lang="pt-BR" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia PICS - Versão Final</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #f1f5f9; /* slate-100 */
            --text-color: #0f172a; /* slate-900 */
            --card-bg-color: #ffffff;
            --subtle-text-color: #64748b; /* slate-500 */
            --border-color: #e2e8f0; /* slate-200 */
            --shadow-color: rgba(149, 157, 165, 0.1);
            --teal-500: #14b8a6;
        }
        html.dark {
            --bg-color: #020617; /* slate-950 */
            --text-color: #e2e8f0; /* slate-200 */
            --card-bg-color: #0f172a; /* slate-900 */
            --subtle-text-color: #94a3b8; /* slate-400 */
            --border-color: #1e293b; /* slate-800 */
            --shadow-color: rgba(0, 0, 0, 0.2);
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.4s, color 0.4s;
        }
        .page-section { display: none; animation: fadeIn 0.6s ease-in-out; }
        .page-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .card-base {
            background-color: var(--card-bg-color);
            border: 1px solid var(--border-color);
            border-radius: 1.25rem;
            box-shadow: 0 8px 24px var(--shadow-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-base:hover { transform: translateY(-5px); box-shadow: 0 12px 32px var(--shadow-color); }
        .card-header-gradient { background-image: linear-gradient(135deg, var(--gradient-from), var(--gradient-to)); }
        
        .nav-container { position: relative; }
        .nav-indicator {
            position: absolute; bottom: 4px; height: 4px; width: 40px;
            background-color: var(--teal-500); border-radius: 2px;
            transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .nav-btn.active i, .nav-btn.active span { color: var(--teal-500); }
        
        details > summary { list-style: none; } details > summary::-webkit-details-marker { display: none; }
        details[open] summary .arrow-icon { transform: rotate(90deg); }
        .arrow-icon { transition: transform 0.3s ease; }

        .memory-card {
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .memory-card.flipped {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        .card-back {
            transform: rotateY(180deg);
        }

        .drop-zone { border: 2px dashed var(--border-color); transition: background-color 0.3s, border-color 0.3s; }
        .drop-zone.drag-over { background-color: rgba(20, 184, 166, 0.1); border-color: var(--teal-500); }
        .drop-zone.correct { border-color: #22c55e; background-color: rgba(34, 197, 94, 0.1); }
        .draggable-item { cursor: grab; transition: transform 0.2s; }
        .draggable-item:active { cursor: grabbing; transform: scale(1.1); }
        .draggable-item.dropped { opacity: 0.5; cursor: not-allowed; }
    </style>
</head>
<body class="pb-28">

    <div id="app-container" class="max-w-4xl mx-auto p-4 md:p-6">
        <header class="relative mb-10">
            <div class="absolute top-0 right-0 flex items-center space-x-4">
                 <button onclick="openAboutModal()" class="text-[var(--subtle-text-color)] hover:text-[var(--text-color)] transition-colors" aria-label="Sobre o projeto">
                    <i class="fa-solid fa-info-circle text-2xl"></i>
                </button>
                <div class="flex items-center">
                    <input type="checkbox" id="dark-mode-toggle" class="hidden">
                    <label for="dark-mode-toggle" class="cursor-pointer flex items-center bg-slate-200 dark:bg-slate-800 rounded-full p-1 w-14 h-8">
                        <div class="bg-white dark:bg-slate-900 w-6 h-6 rounded-full shadow-md transform transition-transform duration-300 ease-in-out flex items-center justify-center">
                            <i class="fa-solid fa-sun text-yellow-500 text-sm hidden dark:inline"></i>
                            <i class="fa-solid fa-moon text-slate-500 text-sm inline dark:hidden"></i>
                        </div>
                    </label>
                </div>
            </div>
            <div class="flex flex-col items-center text-center pt-4">
                <img src="https://i.ibb.co/v6362q7/images-13.png" alt="Logo da Fametro" class="h-20 mb-4">
                <h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-500">Projeto de Extensão</h1>
                <p class="text-lg text-[var(--subtle-text-color)] mt-1">Farmácia 6° Período Turma B Noturno</p>
            </div>
        </header>

        <main>
            <!-- SEÇÃO FARMÁCIA -->
            <div id="pharmacy-section" class="page-section space-y-6">
                <div class="card-base p-6 relative overflow-hidden">
                    <i class="fa-solid fa-pills absolute -right-4 -top-4 text-[120px] text-teal-500/10 dark:text-teal-500/5"></i>
                    <div style="--gradient-from: #2dd4bf; --gradient-to: #06b6d4;" class="card-header-gradient flex items-center gap-4 mb-5 p-4 rounded-xl -m-2">
                        <div class="bg-white/20 rounded-full w-12 h-12 flex items-center justify-center text-2xl text-white"><i class="fa-solid fa-pills"></i></div><h2 class="text-2xl font-bold text-white">Apresentação: Farmácia, o Pilar Científico</h2>
                    </div>
                    <p class="text-[var(--subtle-text-color)] leading-relaxed">A farmácia emerge como o pilar que conecta a ciência moderna à sabedoria das práticas integrativas. O farmacêutico é o profissional de saúde mais acessível à população, atuando como um guardião da segurança e eficácia, garantindo que a jornada do paciente pelo cuidado integral seja segura e bem-sucedida.</p>
                </div>
                <div class="card-base p-6"><h3 class="text-xl font-bold text-center mb-4">Quiz do Farmacêutico</h3><div id="quiz-pharmacy" class="text-center"></div><div class="text-center mt-6"><button onclick="startQuiz('pharmacy')" class="bg-teal-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-teal-600 transition-all transform hover:scale-105 shadow-lg shadow-teal-500/20">Começar Quiz</button></div></div>
            </div>

            <!-- SEÇÃO REIKI -->
            <div id="reiki-section" class="page-section space-y-6">
                <div class="card-base p-6 relative overflow-hidden">
                    <i class="fa-solid fa-hands-holding-circle absolute -right-4 -top-4 text-[120px] text-indigo-500/10 dark:text-indigo-500/5"></i>
                    <div style="--gradient-from: #818cf8; --gradient-to: #6366f1;" class="card-header-gradient flex items-center gap-4 mb-5 p-4 rounded-xl -m-2">
                         <div class="bg-white/20 rounded-full w-12 h-12 flex items-center justify-center text-2xl text-white"><i class="fa-solid fa-hands-holding-circle"></i></div><h2 class="text-2xl font-bold text-white">Apresentação: Reiki, a Terapia do Equilíbrio</h2>
                    </div>
                    <p class="text-[var(--subtle-text-color)] leading-relaxed">Imagine uma terapia suave, não-invasiva, que promove um profundo estado de relaxamento e reequilibra sua energia vital. Esse é o Reiki. Atua como um bálsamo para o corpo e a mente, reconectando-nos com nossa capacidade inata de cura.</p>
                </div>
                <div class="card-base p-6"><h3 class="text-xl font-bold text-center mb-4">Quiz de Equilíbrio</h3><div id="quiz-reiki" class="text-center"></div><div class="text-center mt-6"><button onclick="startQuiz('reiki')" class="bg-indigo-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-indigo-600 transition-all transform hover:scale-105 shadow-lg shadow-indigo-500/20">Começar Quiz</button></div></div>
            </div>
            
            <!-- SEÇÃO FITOTERAPIA -->
            <div id="fitoterapia-section" class="page-section space-y-6">
                 <div class="card-base p-6 relative overflow-hidden">
                    <i class="fa-solid fa-leaf absolute -right-4 -top-4 text-[120px] text-green-500/10 dark:text-green-500/5"></i>
                    <div style="--gradient-from: #4ade80; --gradient-to: #22c55e;" class="card-header-gradient flex items-center gap-4 mb-5 p-4 rounded-xl -m-2">
                         <div class="bg-white/20 rounded-full w-12 h-12 flex items-center justify-center text-2xl text-white"><i class="fa-solid fa-leaf"></i></div><h2 class="text-2xl font-bold text-white">Apresentação: Fitoterapia, a Sabedoria da Natureza</h2>
                    </div>
                    <p class="text-[var(--subtle-text-color)] leading-relaxed">A Fitoterapia é a prova de que a naturez é a farmácia mais antiga e sábia do mundo. Ao escolher a fitoterapia, você opta por um tratamento eficaz, sustentável e com uma abordagem mais gentil ao corpo.</p>
                </div>
                <div class="card-base p-6"><h3 class="text-xl font-bold text-center mb-4">Herbário Interativo</h3><p class="text-center text-[var(--subtle-text-color)] mb-4">Arraste a planta até sua indicação correta!</p><div id="game-fitoterapia"></div><div class="text-center mt-6"><button onclick="startFitoGame()" class="bg-green-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-600 transition-all transform hover:scale-105 shadow-lg shadow-green-500/20">Reiniciar Herbário</button></div></div>
            </div>

            <!-- SEÇÃO MUSICOTERAPIA -->
            <div id="musicoterapia-section" class="page-section space-y-6">
                 <div class="card-base p-6 relative overflow-hidden">
                    <i class="fa-solid fa-music absolute -right-4 -top-4 text-[120px] text-rose-500/10 dark:text-rose-500/5"></i>
                    <div style="--gradient-from: #f472b6; --gradient-to: #ec4899;" class="card-header-gradient flex items-center gap-4 mb-5 p-4 rounded-xl -m-2">
                         <div class="bg-white/20 rounded-full w-12 h-12 flex items-center justify-center text-2xl text-white"><i class="fa-solid fa-music"></i></div><h2 class="text-2xl font-bold text-white">Apresentação: Musicoterapia, a Vibração que Cura</h2>
                    </div>
                    <p class="text-[var(--subtle-text-color)] leading-relaxed">A Musicoterapia é a aplicação clínica da música para curar e transformar, utilizando ritmo, melodia e harmonia como ferramentas para reabilitar, expressar emoções e melhorar a saúde mental de forma tocante e eficaz.</p>
                </div>
                 <div class="card-base p-6"><h3 class="text-xl font-bold text-center mb-4">Memória Musical</h3><p class="text-center text-[var(--subtle-text-color)] mb-4">Encontre os 8 pares de instrumentos!</p><div id="game-musicoterapia" class="flex justify-center"></div><div class="text-center mt-6"><button onclick="startMusicGame()" class="bg-rose-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-rose-600 transition-all transform hover:scale-105 shadow-lg shadow-rose-500/20">Reiniciar Jogo</button></div></div>
            </div>

            <!-- SEÇÃO GEOTERAPIA -->
            <div id="geoterapia-section" class="page-section space-y-6">
                 <div class="card-base p-6 relative overflow-hidden">
                    <i class="fa-solid fa-spa absolute -right-4 -top-4 text-[120px] text-amber-500/10 dark:text-amber-500/5"></i>
                    <div style="--gradient-from: #f59e0b; --gradient-to: #fbbf24;" class="card-header-gradient flex items-center gap-4 mb-5 p-4 rounded-xl -m-2">
                         <div class="bg-white/20 rounded-full w-12 h-12 flex items-center justify-center text-2xl text-white"><i class="fa-solid fa-spa"></i></div><h2 class="text-2xl font-bold text-white">Apresentação: Geoterapia, a Força da Terra</h2>
                    </div>
                    <p class="text-[var(--subtle-text-color)] leading-relaxed">A Geoterapia nos reconecta com a força de cura do nosso planeta. Utilizando as propriedades terapêuticas das argilas, esta prática milenar é um poderoso recurso para desintoxicar, desinflamar e revitalizar o corpo.</p>
                </div>
                 <div class="card-base p-6"><h3 class="text-xl font-bold text-center mb-4">Argila Terapêutica</h3><p class="text-center text-[var(--subtle-text-color)] mb-4">Arraste a argila para sua principal indicação!</p><div id="game-geoterapia"></div><div class="text-center mt-6"><button onclick="startGeoGame()" class="bg-amber-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-amber-600 transition-all transform hover:scale-105 shadow-lg shadow-amber-500/20">Reiniciar Jogo</button></div></div>
            </div>
        </main>
    </div>

    <nav class="fixed bottom-4 left-1/2 -translate-x-1/2 w-[95%] max-w-lg bg-[var(--card-bg-color)]/80 backdrop-blur-sm border border-[var(--border-color)] flex justify-around p-2 shadow-2xl shadow-[var(--shadow-color)] rounded-2xl nav-container">
        <button onclick="showSection('pharmacy-section', this)" class="nav-btn z-10 flex-1 text-center py-2 px-1 rounded-lg transition-colors text-[var(--subtle-text-color)] active"><i class="fa-solid fa-pills text-xl"></i><span class="block text-xs font-medium">Farmácia</span></button>
        <button onclick="showSection('reiki-section', this)" class="nav-btn z-10 flex-1 text-center py-2 px-1 rounded-lg transition-colors text-[var(--subtle-text-color)]"><i class="fa-solid fa-hands-holding-circle text-xl"></i><span class="block text-xs font-medium">Reiki</span></button>
        <button onclick="showSection('fitoterapia-section', this)" class="nav-btn z-10 flex-1 text-center py-2 px-1 rounded-lg transition-colors text-[var(--subtle-text-color)]"><i class="fa-solid fa-leaf text-xl"></i><span class="block text-xs font-medium">Fitoterapia</span></button>
        <button onclick="showSection('musicoterapia-section', this)" class="nav-btn z-10 flex-1 text-center py-2 px-1 rounded-lg transition-colors text-[var(--subtle-text-color)]"><i class="fa-solid fa-music text-xl"></i><span class="block text-xs font-medium">Música</span></button>
        <button onclick="showSection('geoterapia-section', this)" class="nav-btn z-10 flex-1 text-center py-2 px-1 rounded-lg transition-colors text-[var(--subtle-text-color)]"><i class="fa-solid fa-spa text-xl"></i><span class="block text-xs font-medium">Geoterapia</span></button>
        <div id="nav-indicator" class="nav-indicator"></div>
    </nav>

    <!-- Modal para Resultado do Quiz -->
    <div id="quiz-modal" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 transition-opacity duration-300"><div id="modal-content" class="bg-[var(--card-bg-color)] rounded-2xl shadow-xl p-8 max-w-sm w-full text-center transform scale-95 transition-all duration-300"><h2 id="modal-title" class="text-2xl font-bold mb-4">Resultado do Quiz</h2><p id="modal-score" class="text-lg mb-2"></p><p id="modal-message" class="text-[var(--subtle-text-color)] mb-6"></p><button onclick="closeModal()" class="bg-teal-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-teal-600 transition-all transform hover:scale-105 shadow-lg shadow-teal-500/20">Fechar</button></div></div>
    
    <!-- Modal Sobre -->
    <div id="about-modal" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50 transition-opacity duration-300">
        <div id="about-modal-content" class="bg-[var(--card-bg-color)] rounded-2xl shadow-xl p-8 max-w-md w-full text-left transform scale-95 transition-all duration-300">
            <h2 class="text-2xl font-bold mb-6 text-center">Sobre o Projeto</h2>
            <div class="space-y-4 text-sm text-[var(--subtle-text-color)]">
                <div>
                    <strong class="block text-[var(--text-color)]">Desenvolvido por:</strong>
                    <span>João Vitor Ferreira Antonio</span>
                </div>
                <div>
                    <strong class="block text-[var(--text-color)]">Orientadora:</strong>
                    <span>Professora ELICYANE JONILLE CARVALHO GUIMARAES</span>
                </div>
                <div>
                    <strong class="block text-[var(--text-color)]">Co-Orientadora:</strong>
                    <span>Professora KAROLINE LO JIMENEZ</span>
                </div>
            </div>
            <div class="text-center mt-8">
                <button onclick="closeAboutModal()" class="bg-teal-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-teal-600 transition-all transform hover:scale-105 shadow-lg shadow-teal-500/20">Fechar</button>
            </div>
        </div>
    </div>

    <script>
        const sections = document.querySelectorAll('.page-section');
        const navButtons = document.querySelectorAll('.nav-btn');
        const navIndicator = document.getElementById('nav-indicator');

        function showSection(sectionId, clickedButton) {
            sections.forEach(s => s.classList.toggle('active', s.id === sectionId));
            navButtons.forEach(btn => btn.classList.remove('active'));
            clickedButton.classList.add('active');
            const btnWidth = clickedButton.offsetWidth;
            navIndicator.style.left = `${clickedButton.offsetLeft + (btnWidth - navIndicator.offsetWidth) / 2}px`;
            window.scrollTo(0, 0);
        }

        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const html = document.documentElement;
        darkModeToggle.addEventListener('change', () => {
            html.classList.toggle('dark');
            localStorage.setItem('darkMode', html.classList.contains('dark'));
        });
        if (localStorage.getItem('darkMode') === 'true') {
            html.classList.add('dark');
            darkModeToggle.checked = true;
        }
        
        const quizModal = document.getElementById('quiz-modal');
        const modalContent = document.getElementById('modal-content');
        
        const quizData = {
            pharmacy: { 
                theme: 'teal',
                questions: [
                    { q: "A frase 'Práticas integrativas substituem remédios' é um...", a: "Mito", o: ["Mito", "Fato"] },
                    { q: "Qual a portaria que instituiu a PNPIC no SUS?", a: "Portaria 971/2006", o: ["Portaria 123/2000", "Portaria 971/2006", "RDC 26/2014"] },
                    { q: "O farmacêutico pode prescrever fitoterápicos?", a: "Sim, para problemas de saúde autolimitados", o: ["Não, nunca", "Sim, para qualquer doença", "Sim, para problemas de saúde autolimitados"] },
                    { q: "Qual o principal risco do uso de plantas medicinais sem orientação?", a: "Interação com outros medicamentos", o: ["Não ter efeito", "Ser muito caro", "Interação com outros medicamentos"] },
                    { q: "A sigla PICS significa:", a: "Práticas Integrativas e Complementares em Saúde", o: ["Procedimentos Internos de Cuidado e Saúde", "Práticas Inovadoras de Cura e Suporte", "Práticas Integrativas e Complementares em Saúde"] },
                    { q: "Homeopatia é uma das PICS ofertadas no SUS?", a: "Sim", o: ["Sim", "Não"] },
                    { q: "O que é o acompanhamento farmacoterapêutico?", a: "Um serviço para otimizar o uso de medicamentos", o: ["Apenas a venda de remédios", "A consulta médica", "Um serviço para otimizar o uso de medicamentos"] },
                    { q: "A Atenção Farmacêutica visa principalmente:", a: "Melhorar a qualidade de vida do paciente", o: ["Aumentar as vendas da farmácia", "Substituir o médico", "Melhorar a qualidade de vida do paciente"] },
                    { q: "Qual PICS utiliza a imposição de mãos?", a: "Reiki", o: ["Fitoterapia", "Reiki", "Musicoterapia"] },
                    { q: "O SUS garante acesso gratuito às PICS?", a: "Sim, em muitas unidades de saúde", o: ["Não, são todas pagas", "Sim, em todas as cidades do Brasil", "Sim, em muitas unidades de saúde"] }
                ] 
            },
            reiki: { 
                theme: 'indigo',
                questions: [
                    { q: "É preciso 'acreditar' no Reiki para que ele funcione?", a: "Não, os efeitos são fisiológicos", o: ["Sim, a fé é fundamental", "Não, os efeitos são fisiológicos"] },
                    { q: "Reiki é uma prática...", a: "Não-invasiva", o: ["Invasiva", "Cirúrgica", "Não-invasiva"] },
                    { q: "Qual a origem do Reiki?", a: "Japão", o: ["China", "Índia", "Japão"] },
                    { q: "O que significa 'Ki' em Reiki?", a: "Energia Vital", o: ["Mente", "Corpo", "Energia Vital"] },
                    { q: "O Reiki pode ser usado em animais e plantas?", a: "Sim", o: ["Sim", "Não"] },
                    { q: "Qual o principal benefício do Reiki segundo estudos?", a: "Redução do estresse e ansiedade", o: ["Cura de fraturas", "Aumento de força muscular", "Redução do estresse e ansiedade"] },
                    { q: "O Reiki substitui um tratamento médico?", a: "Não, é uma terapia complementar", o: ["Sim, para casos simples", "Não, é uma terapia complementar", "Depende do caso"] },
                    { q: "Como a energia é transmitida no Reiki?", a: "Pela imposição das mãos", o: ["Pelo som", "Pela fala", "Pela imposição das mãos"] },
                    { q: "Qual destes NÃO é um dos cinco princípios do Reiki?", a: "Seja rico", o: ["Só por hoje, não se zangue", "Seja grato", "Seja rico"] },
                    { q: "O Reiki é reconhecido pelo Ministério da Saúde do Brasil?", a: "Sim, como parte da PNPIC", o: ["Não", "Ainda está em análise", "Sim, como parte da PNPIC"] }
                ] 
            }
        };
        let currentQuiz, currentQuestionIndex, score;

        function startQuiz(topic) { currentQuiz = topic; currentQuestionIndex = 0; score = 0; displayQuestion(); }
        function displayQuestion() {
            const container = document.getElementById(`quiz-${currentQuiz}`);
            const quizTheme = quizData[currentQuiz].theme;
            if (currentQuestionIndex < quizData[currentQuiz].questions.length) {
                const qData = quizData[currentQuiz].questions[currentQuestionIndex];
                const buttonClasses = `w-full text-left p-4 rounded-xl font-medium transition-all duration-300 transform focus:outline-none border-2 bg-[var(--bg-color)] border-[var(--border-color)] hover:border-${quizTheme}-500 hover:bg-[var(--card-bg-color)] hover:text-${quizTheme}-500 dark:hover:text-${quizTheme}-400 dark:hover:border-${quizTheme}-400`;
                container.innerHTML = `<p class="text-lg font-semibold mb-6">${qData.q}</p><div class="grid grid-cols-1 gap-4">${qData.o.map(opt => `<button onclick="checkAnswer(this, '${opt}')" class="${buttonClasses}">${opt}</button>`).join('')}</div>`;
            } else { showResult(); }
        }
        function checkAnswer(button, selected) {
            const isCorrect = selected === quizData[currentQuiz].questions[currentQuestionIndex].a;
            if (isCorrect) score++;
            button.className = button.className.replace(/hover:[a-zA-Z0-9-]+/g, '');
            const feedbackBaseClasses = "w-full text-left p-4 rounded-xl font-medium transition-all duration-300 transform focus:outline-none border-2 text-white";
            button.className = isCorrect ? `${feedbackBaseClasses} bg-green-500 border-green-600` : `${feedbackBaseClasses} bg-red-500 border-red-600`;
            document.querySelectorAll(`#quiz-${currentQuiz} button`).forEach(b => b.disabled = true);
            setTimeout(() => { currentQuestionIndex++; displayQuestion(); }, 1200);
        }
        function showResult() {
            const total = quizData[currentQuiz].questions.length;
            document.getElementById('modal-score').innerText = `Acertou ${score} de ${total}!`;
            document.getElementById('modal-message').innerText = score === total ? 'Parabéns, você sabe tudo!' : 'Continue a aprender connosco!';
            quizModal.classList.remove('hidden');
            setTimeout(() => { quizModal.style.opacity = '1'; modalContent.style.transform = 'scale(1)'; }, 10);
        }
        function closeModal() { quizModal.style.opacity = '0'; modalContent.style.transform = 'scale(0.95)'; setTimeout(() => { quizModal.classList.add('hidden'); }, 300); }

        const aboutModal = document.getElementById('about-modal');
        const aboutModalContent = document.getElementById('about-modal-content');

        function openAboutModal() {
            aboutModal.classList.remove('hidden');
            setTimeout(() => {
                aboutModal.style.opacity = '1';
                aboutModalContent.style.transform = 'scale(1)';
            }, 10);
        }

        function closeAboutModal() {
            aboutModal.style.opacity = '0';
            aboutModalContent.style.transform = 'scale(0.95)';
            setTimeout(() => {
                aboutModal.classList.add('hidden');
            }, 300);
        }

        function handleDragStart(e) { e.dataTransfer.setData('text/plain', e.target.dataset.id); e.target.classList.add('opacity-50'); }
        function handleDragEnd(e) { e.target.classList.remove('opacity-50'); }
        function handleDragOver(e) { e.preventDefault(); e.target.closest('.drop-zone').classList.add('drag-over'); }
        function handleDragLeave(e) { e.target.closest('.drop-zone').classList.remove('drag-over'); }

        const fitoGameData = [ 
            { id: 'camomila', name: 'Camomila', use: 'Calmante e Digestivo' }, 
            { id: 'gengibre', name: 'Gengibre', use: 'Náuseas e Enjoos' }, 
            { id: 'arnica', name: 'Arnica', use: 'Contusões (Uso Tópico)' }, 
            { id: 'espinheira', name: 'Espinheira-santa', use: 'Azia e Gastrite' },
            { id: 'hortela', name: 'Hortelã', use: 'Gases e Digestão' },
            { id: 'valeriana', name: 'Valeriana', use: 'Insônia e Ansiedade' }
        ];
        function startFitoGame() {
            const cont = document.getElementById('game-fitoterapia');
            const plants = fitoGameData.sort(() => 0.5 - Math.random());
            const uses = fitoGameData.sort(() => 0.5 - Math.random());
            cont.innerHTML = `<div class="flex flex-col md:flex-row gap-6 items-center md:items-start"><div class="flex flex-wrap gap-3 justify-center">${plants.map(p => `<div data-id="${p.id}" draggable="true" class="draggable-item bg-green-100 dark:bg-green-900/50 p-3 rounded-lg text-center w-24"><i class="fa-solid fa-seedling text-3xl text-green-500"></i><p class="font-semibold mt-2 text-green-800 dark:text-green-300 text-sm">${p.name}</p></div>`).join('')}</div><div class="w-full md:w-1/2 space-y-3">${uses.map(u => `<div data-id="${u.id}" class="drop-zone p-4 rounded-lg min-h-[60px] flex items-center justify-center text-center text-sm font-medium text-[var(--subtle-text-color)]">${u.use}</div>`).join('')}</div></div>`;
            cont.querySelectorAll('.draggable-item').forEach(item => { item.addEventListener('dragstart', handleDragStart); item.addEventListener('dragend', handleDragEnd); });
            cont.querySelectorAll('.drop-zone').forEach(zone => { zone.addEventListener('dragover', handleDragOver); zone.addEventListener('dragleave', handleDragLeave); zone.addEventListener('drop', handleFitoDrop); });
        }
        function handleFitoDrop(e) {
            e.preventDefault();
            const zone = e.target.closest('.drop-zone');
            zone.classList.remove('drag-over');
            const draggedId = e.dataTransfer.getData('text/plain');
            const draggableEl = document.querySelector(`.draggable-item[data-id="${draggedId}"]`);
            if (zone.dataset.id === draggedId) {
                zone.innerHTML = `<p class="font-bold text-green-500">Correto!</p>`;
                zone.classList.add('correct');
                draggableEl.draggable = false;
                draggableEl.classList.add('dropped');
            }
        }

        const geoGameData = [ 
            { id: 'verde', name: 'Argila Verde', use: 'Pele Oleosa / Detox' }, 
            { id: 'branca', name: 'Argila Branca', use: 'Peles Sensíveis' }, 
            { id: 'vermelha', name: 'Argila Vermelha', use: 'Estimular Circulação' },
            { id: 'preta', name: 'Argila Preta', use: 'Anti-inflamatório' },
            { id: 'amarela', name: 'Argila Amarela', use: 'Rejuvenescimento' },
            { id: 'cinza', name: 'Argila Cinza', use: 'Combate à Acne' }
        ];
        function startGeoGame() {
            const cont = document.getElementById('game-geoterapia');
            const clays = geoGameData.sort(() => 0.5 - Math.random());
            const uses = geoGameData.sort(() => 0.5 - Math.random());
            cont.innerHTML = `<div class="flex flex-col md:flex-row gap-6 items-center md:items-start"><div class="flex flex-wrap gap-3 justify-center">${clays.map(c => `<div data-id="${c.id}" draggable="true" class="draggable-item bg-amber-100 dark:bg-amber-900/50 p-3 rounded-lg text-center w-24"><i class="fa-solid fa-mortar-pestle text-3xl text-amber-500"></i><p class="font-semibold mt-2 text-amber-800 dark:text-amber-300 text-sm">${c.name}</p></div>`).join('')}</div><div class="w-full md:w-1/2 space-y-3">${uses.map(u => `<div data-id="${u.id}" class="drop-zone p-4 rounded-lg min-h-[60px] flex items-center justify-center text-center text-sm font-medium text-[var(--subtle-text-color)]">${u.use}</div>`).join('')}</div></div>`;
            cont.querySelectorAll('.draggable-item').forEach(item => { item.addEventListener('dragstart', handleDragStart); item.addEventListener('dragend', handleDragEnd); });
            cont.querySelectorAll('.drop-zone').forEach(zone => { zone.addEventListener('dragover', handleDragOver); zone.addEventListener('dragleave', handleDragLeave); zone.addEventListener('drop', handleGeoDrop); });
        }
        function handleGeoDrop(e) {
            e.preventDefault();
            const zone = e.target.closest('.drop-zone');
            zone.classList.remove('drag-over');
            const draggedId = e.dataTransfer.getData('text/plain');
            const draggableEl = document.querySelector(`.draggable-item[data-id="${draggedId}"]`);
            if (zone.dataset.id === draggedId) {
                zone.innerHTML = `<p class="font-bold text-green-500">Correto!</p>`;
                zone.classList.add('correct');
                draggableEl.draggable = false;
                draggableEl.classList.add('dropped');
            }
        }

        const musicIcons = ['guitar', 'drum', 'microphone', 'music', 'headphones', 'compact-disc', 'sliders', 'volume-high'];
        let flippedCards, musicPairs;
        function startMusicGame() {
            flippedCards = []; musicPairs = 0;
            const cont = document.getElementById('game-musicoterapia');
            const items = [...musicIcons, ...musicIcons].sort(() => 0.5 - Math.random());
            cont.innerHTML = `<div class="grid grid-cols-4 gap-3">${items.map(icon => 
                `<div class="w-16 h-16 sm:w-20 sm:h-20 cursor-pointer" onclick="flipCard(this)">
                    <div class="relative w-full h-full memory-card">
                        <div class="absolute w-full h-full card-front bg-rose-200 dark:bg-rose-900/50 rounded-lg flex items-center justify-center">
                            <i class="fa-solid fa-question text-rose-600 text-2xl"></i>
                        </div>
                        <div class="absolute w-full h-full card-back bg-gradient-to-br from-rose-400 to-rose-500 rounded-lg flex items-center justify-center text-white shadow-lg">
                            <i class="fa-solid fa-${icon} text-3xl"></i>
                        </div>
                    </div>
                </div>`
            ).join('')}</div>`;
        }
        function flipCard(el) {
            const card = el.querySelector('.memory-card');
            if (flippedCards.length < 2 && !card.classList.contains('flipped') && !card.classList.contains('matched')) {
                card.classList.add('flipped');
                flippedCards.push(el);
                if (flippedCards.length === 2) setTimeout(checkMusicMatch, 1000);
            }
        }
        function checkMusicMatch() {
            const card1 = flippedCards[0].querySelector('.memory-card');
            const card2 = flippedCards[1].querySelector('.memory-card');
            if (card1.querySelector('.card-back i').className === card2.querySelector('.card-back i').className) {
                card1.classList.add('matched'); card2.classList.add('matched'); musicPairs++;
            } else {
                card1.classList.remove('flipped'); card2.classList.remove('flipped');
            }
            flippedCards = [];
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            showSection('pharmacy-section', navButtons[0]);
            startFitoGame();
            startGeoGame();
            startMusicGame();
        });
    </script>
</body>
</html>


